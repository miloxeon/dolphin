{"version":3,"sources":["webpack:///webpack/bootstrap 22ab346bbd9ed5bfdf3c","webpack:///./~/deepmerge/index.js","webpack:///./src/lib/element/model.js","webpack:///./src/base.js","webpack:///./src/lib/element/style.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,sCAAsC;AACtC;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA,CAAC;;;;;;;;;;;;ACnFD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC/CA;;AAEA;AAC6D;AACjC;;AAE5B;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH,2B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,mJAAgE;AAChE;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;;;;;;;;;ACtJA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACsB;;AAEtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 22ab346bbd9ed5bfdf3c","(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.deepmerge = factory();\n    }\n}(this, function () {\n\nfunction isMergeableObject(val) {\n    var nonNullObject = val && typeof val === 'object'\n\n    return nonNullObject\n        && Object.prototype.toString.call(val) !== '[object RegExp]'\n        && Object.prototype.toString.call(val) !== '[object Date]'\n}\n\nfunction emptyTarget(val) {\n    return Array.isArray(val) ? [] : {}\n}\n\nfunction cloneIfNecessary(value, optionsArgument) {\n    var clone = optionsArgument && optionsArgument.clone === true\n    return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n}\n\nfunction defaultArrayMerge(target, source, optionsArgument) {\n    var destination = target.slice()\n    source.forEach(function(e, i) {\n        if (typeof destination[i] === 'undefined') {\n            destination[i] = cloneIfNecessary(e, optionsArgument)\n        } else if (isMergeableObject(e)) {\n            destination[i] = deepmerge(target[i], e, optionsArgument)\n        } else if (target.indexOf(e) === -1) {\n            destination.push(cloneIfNecessary(e, optionsArgument))\n        }\n    })\n    return destination\n}\n\nfunction mergeObject(target, source, optionsArgument) {\n    var destination = {}\n    if (isMergeableObject(target)) {\n        Object.keys(target).forEach(function (key) {\n            destination[key] = cloneIfNecessary(target[key], optionsArgument)\n        })\n    }\n    Object.keys(source).forEach(function (key) {\n        if (!isMergeableObject(source[key]) || !target[key]) {\n            destination[key] = cloneIfNecessary(source[key], optionsArgument)\n        } else {\n            destination[key] = deepmerge(target[key], source[key], optionsArgument)\n        }\n    })\n    return destination\n}\n\nfunction deepmerge(target, source, optionsArgument) {\n    var array = Array.isArray(source);\n    var options = optionsArgument || { arrayMerge: defaultArrayMerge }\n    var arrayMerge = options.arrayMerge || defaultArrayMerge\n\n    if (array) {\n        return Array.isArray(target) ? arrayMerge(target, source, optionsArgument) : cloneIfNecessary(source, optionsArgument)\n    } else {\n        return mergeObject(target, source, optionsArgument)\n    }\n}\n\ndeepmerge.all = function deepmergeAll(array, optionsArgument) {\n    if (!Array.isArray(array) || array.length < 2) {\n        throw new Error('first argument should be an array with at least two elements')\n    }\n\n    // we are sure there are at least 2 values, so it is safe to have no initial value\n    return array.reduce(function(prev, next) {\n        return deepmerge(prev, next, optionsArgument)\n    })\n}\n\nreturn deepmerge\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deepmerge/index.js\n// module id = 0\n// module chunks = 0","'use strict';\r\n\r\n// data models for element\r\n\r\nexport let default_style = {\r\n\t'padding': '15 10',\r\n\r\n\t'border-color': 'black',\r\n\t'border-width': '2',\r\n\t'border-radius': '4',\r\n\r\n\t'color': 'black',\r\n\t'font-family': 'Tahoma',\r\n\t'font-size': '12',\r\n\t'line-height': '1.25',\r\n\t'font-style': 'normal',\r\n\t'font-weight': 'normal',\r\n\t'text-align': 'left',\r\n\r\n\t'background-color': 'white'\r\n};\r\n\r\nexport let default_blueprint = {\r\n\tid: 0,\r\n\tposition: {\r\n\t\tx: 0,\r\n\t\ty: 0\r\n\t},\r\n\ttext: {\r\n\t\tname: 'NewClass',\r\n\t\tattributes: [],\r\n\t\tmethods: []\r\n\t},\r\n\tstyle: default_style\r\n};\r\n\r\nexport let default_attribute = {\r\n\tname: 'newElement',\r\n\tvalue: '',\r\n\ttype: 'any',\r\n\tscope: 'public'\r\n};\r\n\r\nexport let default_method = {\r\n\tname: 'newMethod',\r\n\ttype: 'any',\r\n\tscope: 'public'\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/element/model.js\n// module id = 1\n// module chunks = 0","'use strict';\r\n\r\nlet merge = require('deepmerge');\r\nimport {default_blueprint, default_attribute, default_method} from './lib/element/model';\r\nimport {convertElementStyle} from './lib/element/style';\r\n\r\nvar draw = SVG('diagram');\r\n\r\nlet blueprint = {\r\n\tid: 1,\r\n\tposition: {\r\n\t\tx: 200,\r\n\t\ty: 100\r\n\t},\r\n\ttext: {\r\n\t\tname: 'Person',\r\n\t\tattributes: [\r\n\t\t\t{\r\n\t\t\t\tname: 'name',\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tvalue: 'Alex',\r\n\t\t\t\tscope: 'public'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'age',\r\n\t\t\t\ttype: 'int',\r\n\t\t\t\tvalue: '100'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'wife',\r\n\t\t\t\tscope: 'private',\r\n\t\t\t\ttype: 'any'\r\n\t\t\t}\r\n\t\t],\r\n\t\tmethods: [\r\n\t\t\t{\r\n\t\t\t\tname: 'helloWorld',\r\n\t\t\t\ttype: 'int'\r\n\t\t\t}\r\n\r\n\t\t]\r\n\t},\r\n\tstyle: {\r\n\t\t// 'background-color': 'pink'\r\n\t}\r\n}\r\n\r\nfunction fillBlueprint(blueprint) {\r\n\tif (!blueprint.position) {\r\n\t\tthrow new TypeError('Invalid blueprint: coordinates are missing');\r\n\t\treturn;\r\n\t} else {\r\n\t\tlet passed_blueprint = blueprint;\r\n\t\tlet desired_blueprint = merge(default_blueprint, blueprint);\r\n\r\n\t\tdesired_blueprint.text.attributes = (desired_blueprint.text.attributes || []).map(function (attribute) {\r\n\t\t\treturn merge(default_attribute, attribute);\r\n\t\t});\r\n\r\n\t\tdesired_blueprint.text.methods = (desired_blueprint.text.methods || []).map(function (method) {\r\n\t\t\treturn merge(default_method, method);\r\n\t\t});\r\n\r\n\t\treturn desired_blueprint;\t\t\r\n\t}\r\n}\r\n\r\nfunction getScopeSymbol(scope) {\r\n\tswitch (scope.toLowerCase()) {\r\n\t\tcase 'public':\r\n\t\t\treturn '+';\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'private':\r\n\t\t\treturn '-';\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'protected':\r\n\t\t\treturn '#';\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'derived':\r\n\t\t\treturn '/';\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'package':\r\n\t\t\treturn '~';\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\nfunction prepareText(element_text) {\r\n\tvar prepared_attributes = element_text.attributes.map(function (attribute) {\r\n\r\n\t\treturn [\r\n\t\t\tgetScopeSymbol(attribute.scope),\r\n\t\t\tattribute.name,\r\n\t\t\t(attribute.type === 'any') ? '' : ': ' + attribute.type\r\n\t\t].join(' ') + \r\n\t\t\t((attribute.value !== '') ? [' =', attribute.value].join(' ') : '');\r\n\t})\r\n\r\n\tvar prepared_methods = element_text.methods.map(function (method) {\r\n\t\treturn [\r\n\t\t\tgetScopeSymbol(method.scope),\r\n\t\t\t(method.type === 'any') ? '' : method.type,\r\n\t\t\tmethod.name + '()'\r\n\t\t].join(' ');\r\n\t})\r\n\r\n\t// console.log(element_text.attributes);\r\n\r\n\treturn {\r\n\t\tname: element_text.name,\r\n\t\tattributes: prepared_attributes.join('\\n'),\r\n\t\tmethods: prepared_methods.join('\\n')\r\n\t}\r\n}\r\n\r\nSVG.ClassDiagramNode = SVG.invent({\r\n\tcreate: 'g',\r\n\tinherit: SVG.G,\r\n\textend: {\r\n\t\tapplyBlueprint: function (blueprint) {\r\n\t\t\tvar checked_blueprint = fillBlueprint(blueprint);\r\n\r\n\t\t\tlet style = convertElementStyle(checked_blueprint.style || {});\r\n\t\t\tlet padding = style.additional_style.padding;\r\n\r\n\t\t\tlet text = this.text(prepareText(checked_blueprint.text).methods).font(style.text_style).move(padding.w, padding.h);\r\n\r\n\t\t\tlet rect_size = {\r\n\t\t\t\tw: text.bbox().w + padding.w * 2,\r\n\t\t\t\th: text.bbox().h + padding.h * 2\r\n\t\t\t}\r\n\r\n\t\t\tlet rect = this.rect(rect_size.w, rect_size.h).attr(style.rect_style).move(0, 0);\r\n\t\t\ttext.front();\r\n\r\n\t\t\treturn this;\r\n\t\t}\r\n\t},\r\n\tconstruct: {\r\n\t\tclassDiagramNode: function (blueprint) {\r\n\t\t\treturn this.put(new SVG.ClassDiagramNode).applyBlueprint(blueprint).move(blueprint.position.x, blueprint.position.y);\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar element = draw.classDiagramNode(blueprint);\r\n// draw.rounded(200, 200);\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base.js\n// module id = 2\n// module chunks = 0","'use strict';\r\n\r\n// convert CSS-like style to SVG-like:\r\n\r\n// this:\r\n// \t{\r\n// \t\tpadding\r\n// \t\tborder_color\r\n// \t\tborder_width\r\n// \t\tborder_radius\r\n//\t\r\n// \t\tcolor\r\n// \t\tfont_family\r\n// \t\tfont_size\r\n// \t\tline_height\r\n// \t\tfont_style\r\n// \t\tfont_weight\r\n// \t\ttext_align\r\n//\r\n// \t\tbackground_color\r\n// \t}\r\n//\r\n//\tto this:\r\n//\t{\r\n//\t\trect_style: {\r\n//\t\t\tfill\r\n//\t\t\tstroke\r\n//\t\t\tstroke-width\r\n//\t\t\trx\r\n//\t\t\try\r\n//\t\t},\r\n//\t\ttext_style: {\r\n//\t\t\tleading\r\n//\t\t\tfamily\r\n//\t\t\tsize\r\n//\t\t\tstyle\r\n//\t\t\tweight\r\n//\t\t\tfill\r\n//\t\t\tanchor\r\n//\t\t},\r\n//\t\tadditional_style: {\r\n//\t\t\thorizontal_text_offset,\r\n//\t\t\tvertical_text_offset\r\n//\t\t}\r\n//\t}\r\n\r\nlet merge = require('deepmerge');\r\nimport {default_style} from './model';\r\n\r\nexport function convertElementStyle(style) {\r\n\tvar passed_style = merge(default_style, style);\r\n\r\n\tvar rect_style = {\r\n\t\t'fill': passed_style['background-color'],\r\n\t\t'stroke': passed_style['border-color'],\r\n\t\t'stroke-width': passed_style['border-width'],\r\n\t\t'rx': passed_style['border-radius'],\r\n\t\t'ry': passed_style['border-radius']\r\n\t}\r\n\r\n\tvar text_style = {\r\n\t\t'leading': parseFloat(passed_style['line-height']),\r\n\t\t'family': passed_style['font-family'],\r\n\t\t'size': parseInt(passed_style['font-size']),\r\n\t\t'style': passed_style['font-style'],\r\n\t\t'weight': passed_style['font-weight'],\r\n\t\t'fill': passed_style['color'],\r\n\t\t'anchor': (function () {\r\n\t\t\tvar text_align = passed_style['text-align'];\r\n\t\t\tif (text_align == 'left') {\r\n\t\t\t\treturn 'start';\r\n\t\t\t} else if (text_align == 'center') {\r\n\t\t\t\treturn 'middle';\r\n\t\t\t} else if (text_align == 'right') {\r\n\t\t\t\treturn 'end';\r\n\t\t\t} else {\r\n\t\t\t\t// error\r\n\t\t\t}\r\n\t\t})()\r\n\t}\r\n\r\n\tlet padding = passed_style['padding'].split(' ');\r\n\r\n\tvar additional_style = {\r\n\t\tpadding: {\r\n\t\t\tw: parseInt(padding[1]),\r\n\t\t\th: parseInt(padding[0])\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\trect_style: rect_style,\r\n\t\ttext_style: text_style,\r\n\t\tadditional_style: additional_style\r\n\t}\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/element/style.js\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}